<html>
  <head>
    <title>Asteroid Avoid</title>
	<link rel="stylesheet" href="sun.css" />
    <script src="lib/leap.js"></script>
	<script src="lib/three.min.js"></script>
    <!-- <script src="LeapControls.js"></script> -->
	<script>// JavaScript code goes here
	
	
	</script>
  </head>
  
  <body onload="checkLibrary()">
	

    <script>
     
 	 var scene = new THREE.Scene();
      var renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      
	  var geometry = new THREE.SphereGeometry( 30, 32, 32 );
	  var material = new THREE.MeshBasicMaterial( {color: 0xFFCC00} );
	  var sun = new THREE.Mesh( geometry, material );
	  scene.add( sun );

	  var geometry = new THREE.SphereGeometry( 60, 40, 40 );
	  var material = new THREE.MeshBasicMaterial( {color: 0x99B2CC} );
	  var mercury = new THREE.Mesh( geometry, material );
	  mercury.position.x = sun.position.x + 100;
	  scene.add( mercury );

	  var geometry = new THREE.SphereGeometry( 15, 32, 32 );
	  var material = new THREE.MeshBasicMaterial( {color: 0xFFCC00} );
	  var venus = new THREE.Mesh( geometry, material );
	  venus.position.x = mercury.position.x + 50;
	  scene.add( venus );
	  
	  var geometry = new THREE.SphereGeometry( 20, 32, 32 );
	  var material = new THREE.MeshBasicMaterial( {color: 0xFFCC00} );
	  var earth = new THREE.Mesh( geometry, material );
	  earth.position.x = venus.position.x + 50;
	  scene.add( earth );
	  
	  var geometry = new THREE.SphereGeometry( 18, 32, 32 );
	  var material = new THREE.MeshBasicMaterial( {color: 0xFFCC00} );
	  var saturn = new THREE.Mesh( geometry, material );
	  saturn.position.x = earth.position.x + 50;
	  scene.add( saturn );

      var geometry = new THREE.CubeGeometry( 20, 20, 20 );
     
      for ( var i = 0; i < geometry.faces.length; i ++ ) {
        geometry.faces[ i ].color.setHex( Math.random() * 0xffffff );
      
	  }

      var material = new THREE.MeshBasicMaterial( { vertexColors: THREE.FaceColors } );

	  cube = new THREE.Mesh( geometry, material );
      cube2 = new THREE.Mesh( geometry, material );
	  cube.position.x = cube.position.x - 500
	  cube2.position.x = cube.position.x + 1000;
	  scene.add(cube);
	  scene.add(cube2);
	  
	  
      var camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
      camera.position.x = 0;
      camera.position.y = 150;
      camera.position.z = 500;
      var startX = camera.position.x;
      var startY = camera.position.y;
      var startZ = camera.position.z;
      var state  = null;
      var startFrame = null;

      Leap.loop(function(frame) {
        if (frame.valid) {
          if (state == null) {
            if (frame.hands.length > 0 && frame.pointables.length <= 1) {
              startFrame = frame;
              startX = camera.position.x;
              startY = camera.position.y;
              startZ = camera.position.z;
              state = 'moving';
            }
          } else if (state == 'moving') {
            var t = startFrame.translation(frame);
            camera.position.x = t[0]  + startX;
            camera.position.y = t[1]  + startY;
            camera.position.z = t[2]  + startZ;
            cube.rotation.x += .1;
			if (frame.hands.length == 1 || frame.pointables.legnth > 1) {
              state = null;
            }
          }
        }
        renderer.render(scene, camera);
      });
	</script>
<!--
  <h1>Asteroid Avoid</h1>
    <div id="main">
      <h3>Frame data:</h3>
      <div id="frameData"></div>
      <div style="clear:both;"></div>
      <h3>Hand data:</h3>
      <div id="handData"></div>
      <div style="clear:both;"></div>
      <h3>Finger and tool data:</h3>
      <div id="pointableData"></div>
      <div style="clear:both;"></div>
      <h3>Gesture data:</h3>
      <div id="gestureData"></div>
    </div>
	-->
  </body>
</html>